<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Swiggy ‚Äî Mini Clone (single file)</title>
  <style>
    :root{--accent:#ff6b6b;--muted:#6b7280;--bg:#fafafa;--card:#ffffff}
    *{box-sizing:border-box}body{font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, Arial; margin:0; background:var(--bg); color:#111}
    header{background:linear-gradient(90deg,#fff 0,#fff);padding:18px 20px;display:flex;align-items:center;gap:16px;border-bottom:1px solid #eee;position:sticky;top:0;z-index:40}
    .logo{display:flex;align-items:center;gap:10px;font-weight:700}
    .logo .mark{width:40px;height:40px;background:linear-gradient(135deg,var(--accent),#ffb86b);border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800}
    .search{flex:1;display:flex;gap:8px;align-items:center}
    .search input{flex:1;padding:10px 12px;border-radius:10px;border:1px solid #e5e7eb;background:#fff}
    .location{padding:8px 12px;border-radius:10px;background:#fff;border:1px solid #e5e7eb;display:flex;gap:8px;align-items:center}
    main{display:flex;gap:20px;padding:20px;max-width:1100px;margin:20px auto}
    .left{flex:1}
    .filters{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px}
    .chip{padding:8px 12px;background:var(--card);border-radius:999px;border:1px solid #eee;cursor:pointer}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}
    .card{background:var(--card);border-radius:12px;padding:12px;border:1px solid #eee;display:flex;gap:12px;align-items:flex-start}
    .card .thumb{width:90px;height:70px;border-radius:8px;background:linear-gradient(135deg,#ffd6d6,#fff0d6);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent)}
    .card h3{margin:0;font-size:16px}
    .card p{margin:4px 0 0;color:var(--muted);font-size:13px}
    .card .meta{margin-top:8px;display:flex;gap:8px;align-items:center}
    .card button{margin-left:auto;padding:8px 10px;background:var(--accent);border:none;color:#fff;border-radius:8px;cursor:pointer}
    .sidebar{width:320px;background:#fff;border-radius:12px;padding:12px;border:1px solid #eee;height:min-content;position:sticky;top:84px}
    .cart-item{display:flex;gap:12px;align-items:center;padding:8px 0;border-bottom:1px dashed #f1f1f1}
    .qty{display:flex;gap:6px;align-items:center}
    .btn{padding:8px 10px;border-radius:8px;border:none;cursor:pointer}
    .ghost{background:#f3f4f6}
    footer{max-width:1100px;margin:30px auto;color:var(--muted);font-size:13px}
    /* responsive */
    @media (max-width:880px){main{flex-direction:column;padding:12px} .sidebar{position:relative;width:100%;top:0}}
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <div class="mark">S</div>
      <div>
        <div style="font-size:15px">Swiggy ‚Äî Mini</div>
        <div style="font-size:12px;color:var(--muted)">Demo UI ‚Ä¢ Not affiliated</div>
      </div>
    </div>

    <div class="search">
      <input id="searchInput" placeholder="Search for restaurants or dishes (e.g., biryani)" />
      <div class="location">üìç Chennai</div>
    </div>

    <button id="openCartBtn" class="btn">Cart (<span id="cartCount">0</span>)</button>
  </header>

  <main>
    <div class="left">
      <div class="filters">
        <div class="chip" data-filter>Pure Veg</div>
        <div class="chip" data-filter>Fast delivery</div>
        <div class="chip" data-filter>Offers</div>
        <div class="chip" data-filter>Top Rated</div>
      </div>

      <div id="restaurants" class="grid">
        <!-- restaurant cards inserted here -->
      </div>
    </div>

    <aside class="sidebar" id="cartSidebar">
      <h3>Your cart</h3>
      <div id="cartItems"></div>
      <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
        <strong>Total:</strong>
        <strong id="cartTotal">‚Çπ0</strong>
      </div>
      <button id="checkoutBtn" class="btn" style="width:100%;margin-top:12px;background:var(--accent);color:#fff">Proceed to pay</button>
      <div style="margin-top:8px;color:var(--muted);font-size:13px">Note: This is a static demo ‚Äî no real payments.</div>
    </aside>
  </main>

  <footer>Built as a single-file demo. Want features like real APIs, login, or animation? Ask and I'll add them.</footer>

  <script>
    // Sample data
    const data = [
      {id:1,name:'Spice Junction',cuisine:'North Indian',rating:4.3,eta:'30-40 min',price:250,items:[{id:101,name:'Paneer Butter Masala',price:180},{id:102,name:'Garlic Naan',price:40}]},
      {id:2,name:'Idli House',cuisine:'South Indian',rating:4.6,eta:'20-30 min',price:120,items:[{id:201,name:'Sambar Idli (2)',price:70},{id:202,name:'Filter Coffee',price:30}]},
      {id:3,name:'The Biryani Club',cuisine:'Biryani',rating:4.7,eta:'35-45 min',price:320,items:[{id:301,name:'Chicken Biryani',price:240},{id:302,name:'Raita',price:40}]},
      {id:4,name:'Green Bowl',cuisine:'Healthy',rating:4.2,eta:'25-35 min',price:220,items:[{id:401,name:'Quinoa Salad',price:160},{id:402,name:'Green Smoothie',price:80}]},
      {id:5,name:'Pizza Express',cuisine:'Italian',rating:4.1,eta:'30-40 min',price:350,items:[{id:501,name:'Margherita',price:220},{id:502,name:'Garlic Bread',price:80}]}
    ];

    // State
    let cart = JSON.parse(localStorage.getItem('mini_sw_cart')||'{}');

    function saveCart(){ localStorage.setItem('mini_sw_cart', JSON.stringify(cart)); renderCart(); }

    function renderRestaurants(list){
      const container = document.getElementById('restaurants'); container.innerHTML='';
      list.forEach(r=>{
        const el = document.createElement('div'); el.className='card';
        el.innerHTML = `
          <div class="thumb">${r.name.split(' ').map(w=>w[0]).slice(0,2).join('')}</div>
          <div style="flex:1">
            <h3>${r.name}</h3>
            <p>${r.cuisine} ‚Ä¢ ${r.eta} ‚Ä¢ ‚Çπ${r.price} for two</p>
            <div class="meta">
              <div style="background:#f8fafc;padding:6px;border-radius:8px;font-size:13px">‚≠ê ${r.rating}</div>
              <div style="font-size:13px;color:var(--muted);margin-left:6px">View menu</div>
            </div>
          </div>
          <button data-open="${r.id}">Menu</button>
        `;
        container.appendChild(el);
      });

      // attach menu buttons
      document.querySelectorAll('[data-open]').forEach(btn=>btn.addEventListener('click',ev=>{
        const id = Number(btn.getAttribute('data-open'));
        openMenu(id);
      }));
    }

    function openMenu(rid){
      const r = data.find(x=>x.id===rid);
      if(!r) return;
      // simple modal using prompt-style (keeps single-file simple)
      let menu = `Menu for ${r.name}\n\n`;
      r.items.forEach(i=> menu += `${i.id} ‚Äî ${i.name} ‚Äî ‚Çπ${i.price}\n`);
      menu += `\nType item id to add to cart (e.g. 301), or Cancel.`;
      const input = prompt(menu);
      if(!input) return;
      const iid = Number(input.trim());
      const item = r.items.find(it=>it.id===iid);
      if(!item){ alert('Invalid id'); return; }
      addToCart(item,r.name);
    }

    function addToCart(item, restaurantName){
      // keep track with unique key
      const key = item.id;
      if(!cart[key]){
        cart[key] = {...item, qty:1, restaurant:restaurantName};
      } else { cart[key].qty += 1; }
      saveCart();
      renderCart();
      flashCartCount();
    }

    function renderCart(){
      const container = document.getElementById('cartItems'); container.innerHTML='';
      const keys = Object.keys(cart);
      let total = 0; let count = 0;
      if(keys.length===0){ container.innerHTML = '<div style="color:var(--muted);padding:8px 0">Your cart is empty</div>'; }
      keys.forEach(k=>{
        const it = cart[k];
        const row = document.createElement('div'); row.className='cart-item';
        row.innerHTML = `
          <div style="flex:1">
            <div style="font-weight:600">${it.name}</div>
            <div style="font-size:13px;color:var(--muted)">${it.restaurant} ‚Ä¢ ‚Çπ${it.price} each</div>
          </div>
          <div class="qty">
            <button class="btn ghost" data-dec="${it.id}">-</button>
            <div>${it.qty}</div>
            <button class="btn" data-inc="${it.id}">+</button>
          </div>
        `;
        container.appendChild(row);
        total += it.price * it.qty; count += it.qty;
      });
      document.getElementById('cartTotal').innerText = `‚Çπ${total}`;
      document.getElementById('cartCount').innerText = count;

      // qty handlers
      document.querySelectorAll('[data-inc]').forEach(b=>b.addEventListener('click',()=>{
        const id = b.getAttribute('data-inc'); cart[id].qty += 1; saveCart();
      }));
      document.querySelectorAll('[data-dec]').forEach(b=>b.addEventListener('click',()=>{
        const id = b.getAttribute('data-dec'); cart[id].qty -= 1; if(cart[id].qty<=0) delete cart[id]; saveCart();
      }));
    }

    function flashCartCount(){
      const el = document.getElementById('openCartBtn'); el.animate([{transform:'scale(1)'},{transform:'scale(1.06)'},{transform:'scale(1)'}],{duration:220});
    }

    // Search behavior
    document.getElementById('searchInput').addEventListener('input', (e)=>{
      const q = e.target.value.trim().toLowerCase();
      const filtered = data.filter(r=> r.name.toLowerCase().includes(q) || r.cuisine.toLowerCase().includes(q) || r.items.some(it=>it.name.toLowerCase().includes(q)) );
      renderRestaurants(filtered);
    });

    // filter chips (simple toggles but not functional for complexity)
    document.querySelectorAll('[data-filter]').forEach(chip=>chip.addEventListener('click',()=>{
      chip.classList.toggle('active'); chip.style.background = chip.classList.contains('active')? '#fff8f8' : '#fff';
    }));

    document.getElementById('openCartBtn').addEventListener('click', ()=>{
      // scroll to cart section on small screens
      const sidebar = document.getElementById('cartSidebar'); sidebar.scrollIntoView({behavior:'smooth'});
    });

    document.getElementById('checkoutBtn').addEventListener('click', ()=>{
      const keys = Object.keys(cart); if(keys.length===0){ alert('Cart is empty'); return; }
      alert('Checkout ‚Äî Total: ' + document.getElementById('cartTotal').innerText + '\n(Static demo)');
      cart = {}; saveCart();
    });

    // init
    renderRestaurants(data);
    renderCart();
  </script>
</body>
</html>
